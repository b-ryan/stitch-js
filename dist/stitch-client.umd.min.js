!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.Stitch={})}(this,function(t){"use strict";function n(t,n){return n={exports:{}},t(n,n.exports),n.exports}function e(t,n){if(!n.type)throw new Error("You must specify `options.type`");return Wn.assign(t,{targetState:{name:"app.connections.create",params:{route:n.type}}})}function r(t){if(!t.id)throw new Error("You must specify `options.id`")}function o(t,n){return r(n),Wn.assign(t,{targetState:{name:"app.connections.details.authorize",params:{id:n.id}}})}function i(t,n){if(r(n),!n.discovery_job_name)throw new Error("You must specify `options.discovery_job_name`");return Wn.assign(t,{targetState:{name:"app.connections.details.check",params:{id:n.id,check_job_name:n.discovery_job_name}}})}function c(t,n){return r(n),Wn.assign(t,{targetState:{name:"app.connections.details.fields",params:{id:n.id}}})}function u(t,n){var r=n.id,u=n.type,a=function(t,n,r){var u,s=(u={},O(u,rr.CREATE,e),O(u,rr.AUTHORIZE,o),O(u,rr.DISCOVER,i),O(u,rr.SELECT_STREAMS,c),u)[n];return s?s(t,r):t}({version:2,hideNav:!0,preventIntegrationFormClose:!0,additionalState:{default_selections:n.default_streams,ephemeral_token:n.ephemeral_token}},t,n);return new er(function(t,n){var e=new Un,o=void 0;e.subscribe(function(i){i.type===s.ERROR_LOADING_CONNECTION&&i.data.id===r?(n(new or(r)),e.close()):i.type===s.ERROR_LOADING_INTEGRATION_TYPE&&u&&i.data.type===u?(n(new ir(u)),e.close()):i.type===s.CLOSED||i.type===s.INTEGRATION_FORM_CLOSE?(o?t(o):n(new cr),e.close()):i.type===s.INTEGRATION_FLOW_COMPLETED&&(u&&i.data.type===u||r&&i.data.id===r)&&(o=i.data)}),e.initialize(a)})}var s=Object.freeze({BOOTSTRAP:"bootstrap",CLOSED:"closed",CONNECTION_CREATED:"connectionCreated",CONNECTION_UPDATED:"connectionUpdated",ERROR_AUTHORIZING_CONNCTION:"errorAuthorizingConnection",ERROR_LOADING_CONNECTION:"errorLoadingConnection",ERROR_LOADING_INTEGRATION_TYPE:"errorLoadingIntegrationType",INTEGRATION_FLOW_COMPLETED:"integrationFlowCompleted",INTEGRATION_FORM_CLOSE:"integrationFormClose"}),a=n(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),f={}.hasOwnProperty,l=function(t,n){return f.call(t,n)},h=function(t){try{return!!t()}catch(t){return!0}},p=!h(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),d=n(function(t){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)}),v=(d.version,function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}),y=function(t,n,e){if(v(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}},_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},m=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),O=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},g=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},w=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},S=function(t){return"object"===(void 0===t?"undefined":_(t))?null!==t:"function"==typeof t},E=function(t){if(!S(t))throw TypeError(t+" is not an object!");return t},j=a.document,T=S(j)&&S(j.createElement),P=function(t){return T?j.createElement(t):{}},C=!p&&!h(function(){return 7!=Object.defineProperty(P("div"),"a",{get:function(){return 7}}).a}),R=function(t,n){if(!S(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!S(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!S(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!S(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")},N=Object.defineProperty,A={f:p?Object.defineProperty:function(t,n,e){if(E(t),n=R(n,!0),E(e),C)try{return N(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},L=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},I=p?function(t,n,e){return A.f(t,n,L(1,e))}:function(t,n,e){return t[n]=e,t},F="prototype",k=function t(n,e,r){var o,i,c,u=n&t.F,s=n&t.G,f=n&t.S,l=n&t.P,h=n&t.B,p=n&t.W,v=s?d:d[e]||(d[e]={}),_=v[F],b=s?a:f?a[e]:(a[e]||{})[F];s&&(r=e);for(o in r)(i=!u&&b&&void 0!==b[o])&&o in v||(c=i?b[o]:r[o],v[o]=s&&"function"!=typeof b[o]?r[o]:h&&i?y(c,a):p&&b[o]==c?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n[F]=t[F],n}(c):l&&"function"==typeof c?y(Function.call,c):c,l&&((v.virtual||(v.virtual={}))[o]=c,n&t.R&&_&&!_[o]&&I(_,o,c)))};k.F=1,k.G=2,k.S=4,k.P=8,k.B=16,k.W=32,k.U=64,k.R=128;var x=k,M=I,D=0,W=Math.random(),G=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++D+W).toString(36))},z=n(function(t){var n=G("meta"),e=A.f,r=0,o=Object.isExtensible||function(){return!0},i=!h(function(){return o(Object.preventExtensions({}))}),c=function(t){e(t,n,{value:{i:"O"+ ++r,w:{}}})},u=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!S(t))return"symbol"==(void 0===t?"undefined":_(t))?t:("string"==typeof t?"S":"P")+t;if(!l(t,n)){if(!o(t))return"F";if(!e)return"E";c(t)}return t[n].i},getWeak:function(t,e){if(!l(t,n)){if(!o(t))return!0;if(!e)return!1;c(t)}return t[n].w},onFreeze:function(t){return i&&u.NEED&&o(t)&&!l(t,n)&&c(t),t}}}),U=(z.KEY,z.NEED,z.fastKey,z.getWeak,z.onFreeze,a["__core-js_shared__"]||(a["__core-js_shared__"]={})),V=function(t){return U[t]||(U[t]={})},H=n(function(t){var n=V("wks"),e=a.Symbol,r="function"==typeof e;(t.exports=function(t){return n[t]||(n[t]=r&&e[t]||(r?e:G)("Symbol."+t))}).store=n}),K=A.f,Y=H("toStringTag"),B=function(t,n,e){t&&!l(t=e?t:t.prototype,Y)&&K(t,Y,{configurable:!0,value:n})},Z={f:H},J=A.f,q=function(t){var n=d.Symbol||(d.Symbol={});"_"==t.charAt(0)||t in n||J(n,t,{value:Z.f(t)})},Q={}.toString,X=function(t){return Q.call(t).slice(8,-1)},$=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==X(t)?t.split(""):Object(t)},tt=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},nt=function(t){return $(tt(t))},et=Math.ceil,rt=Math.floor,ot=function(t){return isNaN(t=+t)?0:(t>0?rt:et)(t)},it=Math.min,ct=function(t){return t>0?it(ot(t),9007199254740991):0},ut=Math.max,st=Math.min,at=V("keys"),ft=function(t){return at[t]||(at[t]=G(t))},lt=function(t){return function(n,e,r){var o,i=nt(n),c=ct(i.length),u=function(t,n){return(t=ot(t))<0?ut(t+n,0):st(t,n)}(r,c);if(t&&e!=e){for(;c>u;)if((o=i[u++])!=o)return!0}else for(;c>u;u++)if((t||u in i)&&i[u]===e)return t||u||0;return!t&&-1}}(!1),ht=ft("IE_PROTO"),pt=function(t,n){var e,r=nt(t),o=0,i=[];for(e in r)e!=ht&&l(r,e)&&i.push(e);for(;n.length>o;)l(r,e=n[o++])&&(~lt(i,e)||i.push(e));return i},dt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),vt=Object.keys||function(t){return pt(t,dt)},yt={f:Object.getOwnPropertySymbols},_t={f:{}.propertyIsEnumerable},bt=Array.isArray||function(t){return"Array"==X(t)},mt=p?Object.defineProperties:function(t,n){E(t);for(var e,r=vt(n),o=r.length,i=0;o>i;)A.f(t,e=r[i++],n[e]);return t},Ot=a.document,gt=Ot&&Ot.documentElement,wt=ft("IE_PROTO"),St=function(){},Et=function(){var t,n=P("iframe"),e=dt.length;for(n.style.display="none",gt.appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Et=t.F;e--;)delete Et.prototype[dt[e]];return Et()},jt=Object.create||function(t,n){var e;return null!==t?(St.prototype=E(t),e=new St,St.prototype=null,e[wt]=t):e=Et(),void 0===n?e:mt(e,n)},Tt=dt.concat("length","prototype"),Pt={f:Object.getOwnPropertyNames||function(t){return pt(t,Tt)}},Ct=Pt.f,Rt={}.toString,Nt="object"==("undefined"==typeof window?"undefined":_(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],At={f:function(t){return Nt&&"[object Window]"==Rt.call(t)?function(t){try{return Ct(t)}catch(t){return Nt.slice()}}(t):Ct(nt(t))}},Lt=Object.getOwnPropertyDescriptor,It={f:p?Lt:function(t,n){if(t=nt(t),n=R(n,!0),C)try{return Lt(t,n)}catch(t){}if(l(t,n))return L(!_t.f.call(t,n),t[n])}},Ft=z.KEY,kt=It.f,xt=A.f,Mt=At.f,Dt=a.Symbol,Wt=a.JSON,Gt=Wt&&Wt.stringify,zt="prototype",Ut=H("_hidden"),Vt=H("toPrimitive"),Ht={}.propertyIsEnumerable,Kt=V("symbol-registry"),Yt=V("symbols"),Bt=V("op-symbols"),Zt=Object[zt],Jt="function"==typeof Dt,qt=a.QObject,Qt=!qt||!qt[zt]||!qt[zt].findChild,Xt=p&&h(function(){return 7!=jt(xt({},"a",{get:function(){return xt(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=kt(Zt,n);r&&delete Zt[n],xt(t,n,e),r&&t!==Zt&&xt(Zt,n,r)}:xt,$t=function(t){var n=Yt[t]=jt(Dt[zt]);return n._k=t,n},tn=Jt&&"symbol"==_(Dt.iterator)?function(t){return"symbol"==(void 0===t?"undefined":_(t))}:function(t){return t instanceof Dt},nn=function(t,n,e){return t===Zt&&nn(Bt,n,e),E(t),n=R(n,!0),E(e),l(Yt,n)?(e.enumerable?(l(t,Ut)&&t[Ut][n]&&(t[Ut][n]=!1),e=jt(e,{enumerable:L(0,!1)})):(l(t,Ut)||xt(t,Ut,L(1,{})),t[Ut][n]=!0),Xt(t,n,e)):xt(t,n,e)},en=function(t,n){E(t);for(var e,r=function(t){var n=vt(t),e=yt.f;if(e)for(var r,o=e(t),i=_t.f,c=0;o.length>c;)i.call(t,r=o[c++])&&n.push(r);return n}(n=nt(n)),o=0,i=r.length;i>o;)nn(t,e=r[o++],n[e]);return t},rn=function(t){var n=Ht.call(this,t=R(t,!0));return!(this===Zt&&l(Yt,t)&&!l(Bt,t))&&(!(n||!l(this,t)||!l(Yt,t)||l(this,Ut)&&this[Ut][t])||n)},on=function(t,n){if(t=nt(t),n=R(n,!0),t!==Zt||!l(Yt,n)||l(Bt,n)){var e=kt(t,n);return!e||!l(Yt,n)||l(t,Ut)&&t[Ut][n]||(e.enumerable=!0),e}},cn=function(t){for(var n,e=Mt(nt(t)),r=[],o=0;e.length>o;)l(Yt,n=e[o++])||n==Ut||n==Ft||r.push(n);return r},un=function(t){for(var n,e=t===Zt,r=Mt(e?Bt:nt(t)),o=[],i=0;r.length>i;)!l(Yt,n=r[i++])||e&&!l(Zt,n)||o.push(Yt[n]);return o};Jt||(M((Dt=function(){if(this instanceof Dt)throw TypeError("Symbol is not a constructor!");var t=G(arguments.length>0?arguments[0]:void 0);return p&&Qt&&Xt(Zt,t,{configurable:!0,set:function n(e){this===Zt&&n.call(Bt,e),l(this,Ut)&&l(this[Ut],t)&&(this[Ut][t]=!1),Xt(this,t,L(1,e))}}),$t(t)})[zt],"toString",function(){return this._k}),It.f=on,A.f=nn,Pt.f=At.f=cn,_t.f=rn,yt.f=un,Z.f=function(t){return $t(H(t))}),x(x.G+x.W+x.F*!Jt,{Symbol:Dt});for(var sn="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),an=0;sn.length>an;)H(sn[an++]);for(var fn=vt(H.store),ln=0;fn.length>ln;)q(fn[ln++]);x(x.S+x.F*!Jt,"Symbol",{for:function(t){return l(Kt,t+="")?Kt[t]:Kt[t]=Dt(t)},keyFor:function(t){if(!tn(t))throw TypeError(t+" is not a symbol!");for(var n in Kt)if(Kt[n]===t)return n},useSetter:function(){Qt=!0},useSimple:function(){Qt=!1}}),x(x.S+x.F*!Jt,"Object",{create:function(t,n){return void 0===n?jt(t):en(jt(t),n)},defineProperty:nn,defineProperties:en,getOwnPropertyDescriptor:on,getOwnPropertyNames:cn,getOwnPropertySymbols:un}),Wt&&x(x.S+x.F*(!Jt||h(function(){var t=Dt();return"[null]"!=Gt([t])||"{}"!=Gt({a:t})||"{}"!=Gt(Object(t))})),"JSON",{stringify:function(t){for(var n,e,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(e=n=r[1],(S(n)||void 0!==t)&&!tn(t))return bt(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!tn(n))return n}),r[1]=n,Gt.apply(Wt,r)}}),Dt[zt][Vt]||I(Dt[zt],Vt,Dt[zt].valueOf),B(Dt,"Symbol"),B(Math,"Math",!0),B(a.JSON,"JSON",!0),x(x.S,"Object",{create:jt}),x(x.S+x.F*!p,"Object",{defineProperty:A.f}),x(x.S+x.F*!p,"Object",{defineProperties:mt});var hn=function(t,n){var e=(d.Object||{})[t]||Object[t],r={};r[t]=n(e),x(x.S+x.F*h(function(){e(1)}),"Object",r)},pn=It.f;hn("getOwnPropertyDescriptor",function(){return function(t,n){return pn(nt(t),n)}});var dn=function(t){return Object(tt(t))},vn=ft("IE_PROTO"),yn=Object.prototype,_n=Object.getPrototypeOf||function(t){return t=dn(t),l(t,vn)?t[vn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?yn:null};hn("getPrototypeOf",function(){return function(t){return _n(dn(t))}}),hn("keys",function(){return function(t){return vt(dn(t))}}),hn("getOwnPropertyNames",function(){return At.f});var bn=z.onFreeze;hn("freeze",function(t){return function(n){return t&&S(n)?t(bn(n)):n}});var mn=z.onFreeze;hn("seal",function(t){return function(n){return t&&S(n)?t(mn(n)):n}});var On=z.onFreeze;hn("preventExtensions",function(t){return function(n){return t&&S(n)?t(On(n)):n}}),hn("isFrozen",function(t){return function(n){return!S(n)||!!t&&t(n)}}),hn("isSealed",function(t){return function(n){return!S(n)||!!t&&t(n)}}),hn("isExtensible",function(t){return function(n){return!!S(n)&&(!t||t(n))}});var gn=Object.assign,wn=!gn||h(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=gn({},t)[e]||Object.keys(gn({},n)).join("")!=r})?function(t,n){for(var e=dn(t),r=arguments.length,o=1,i=yt.f,c=_t.f;r>o;)for(var u,s=$(arguments[o++]),a=i?vt(s).concat(i(s)):vt(s),f=a.length,l=0;f>l;)c.call(s,u=a[l++])&&(e[u]=s[u]);return e}:gn;x(x.S+x.F,"Object",{assign:wn});var Sn=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n};x(x.S,"Object",{is:Sn});var En=function(t,n){if(E(t),!S(n)&&null!==n)throw TypeError(n+": can't set as prototype!")},jn={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{(e=y(Function.call,It.f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,r){return En(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:En};x(x.S,"Object",{setPrototypeOf:jn.set});var Tn=a.Reflect,Pn=Tn&&Tn.ownKeys||function(t){var n=Pt.f(E(t)),e=yt.f;return e?n.concat(e(t)):n},Cn=function(t,n,e){n in t?A.f(t,n,L(0,e)):t[n]=e};x(x.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,e,r=nt(t),o=It.f,i=Pn(r),c={},u=0;i.length>u;)void 0!==(e=o(r,n=i[u++]))&&Cn(c,n,e);return c}});var Rn=_t.f,Nn=function(t){return function(n){for(var e,r=nt(n),o=vt(r),i=o.length,c=0,u=[];i>c;)Rn.call(r,e=o[c++])&&u.push(t?[e,r[e]]:r[e]);return u}},An=Nn(!1);x(x.S,"Object",{values:function(t){return An(t)}});var Ln=Nn(!0);x(x.S,"Object",{entries:function(t){return Ln(t)}});p&&x(x.P+!0,"Object",{__defineGetter__:function(t,n){A.f(dn(this),t,{get:v(n),enumerable:!0,configurable:!0})}}),p&&x(x.P+!0,"Object",{__defineSetter__:function(t,n){A.f(dn(this),t,{set:v(n),enumerable:!0,configurable:!0})}});var In=It.f;p&&x(x.P+!0,"Object",{__lookupGetter__:function(t){var n,e=dn(this),r=R(t,!0);do{if(n=In(e,r))return n.get}while(e=_n(e))}});var Fn=It.f;p&&x(x.P+!0,"Object",{__lookupSetter__:function(t){var n,e=dn(this),r=R(t,!0);do{if(n=Fn(e,r))return n.set}while(e=_n(e))}}),x(x.S+x.F,"Object",{isObject:S});var kn=H("toStringTag"),xn="Arguments"==X(function(){return arguments}()),Mn=function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),kn))?e:xn?X(n):"Object"==(r=X(n))&&"function"==typeof n.callee?"Arguments":r};x(x.S+x.F,"Object",{classof:Mn});var Dn=function(t,n){for(var e,r=Pn(nt(n)),o=r.length,i=0;o>i;)A.f(t,e=r[i++],It.f(n,e));return t};x(x.S+x.F,"Object",{define:Dn}),x(x.S+x.F,"Object",{make:function(t,n){return Dn(jt(t),n)}});var Wn=d.Object,Gn=function(){},zn=Wn.values(s),Un=function(){function t(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b(this,t),this._childWindow=null,this._initialized=!1,this._context=e,this._subscribers=[],window.addEventListener("message",function(t){t.source===n._childWindow&&n._onMessage(t.data)})}return m(t,[{key:"subscribe",value:function(t){var n=this;return this._subscribers.push(t),function(){n._subscribers=n._subscribers.filter(function(n){return t!=t})}}},{key:"_emit",value:function(t){var n=!0,e=!1,r=void 0;try{for(var o,i=this._subscribers[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){(0,o.value)(t)}}catch(t){e=!0,r=t}finally{try{!n&&i.return&&i.return()}finally{if(e)throw r}}}},{key:"_pollForChildWindowClosed",value:function(){var t=this;window.setTimeout(function(){t._childWindow&&(t._childWindow.closed?t._windowClosed():t._pollForChildWindowClosed())},1e3)}},{key:"_windowClosed",value:function(){Gn("event: closed"),this._childWindow=null,this._initialized=!1,this._emit({type:"closed"})}},{key:"_onMessage",value:function(t){t.type===s.BOOTSTRAP?(Gn("event: initialized"),this._initialized=!0,this._sendContext()):t.type===s.CLOSED?this._windowClosed():zn.indexOf(t.type)>=0?(Gn("event",t),this._emit(t)):Gn("event: [WARNING] unknown message type",t)}},{key:"_sendContext",value:function(){if(!this._initialized||this._childWindow.closed)return this.initialize();Gn("send context",this._context),this._childWindow.postMessage({type:"update",data:this._context},"*")}},{key:"setContext",value:function(t){this._content=t,this._sendContext()}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Gn("initialize"),this._context=t,this._childWindow&&this._childWindow.close(),this._initialized=!1,this._childWindow=window.open("http://app.stitchdata.test:8080/v2/js-client"),this._pollForChildWindowClosed()}},{key:"close",value:function(){Gn("close"),this._childWindow&&this._childWindow.close()}}]),t}(),Vn={},Hn={};I(Hn,H("iterator"),function(){return this});var Kn=H("iterator"),Yn=!([].keys&&"next"in[].keys()),Bn=function(){return this},Zn=function(t,n,e,r,o,i,c){!function(t,n,e){t.prototype=jt(Hn,{next:L(1,e)}),B(t,n+" Iterator")}(e,n,r);var u,s,a,f=function(t){if(!Yn&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},l=n+" Iterator",h="values"==o,p=!1,d=t.prototype,v=d[Kn]||d["@@iterator"]||o&&d[o],y=!Yn&&v||f(o),_=o?h?f("entries"):y:void 0,b="Array"==n?d.entries||v:v;if(b&&(a=_n(b.call(new t)))!==Object.prototype&&a.next&&B(a,l,!0),h&&v&&"values"!==v.name&&(p=!0,y=function(){return v.call(this)}),c&&(Yn||p||!d[Kn])&&I(d,Kn,y),Vn[n]=y,Vn[l]=Bn,o)if(u={values:h?y:f("values"),keys:i?y:f("keys"),entries:_},c)for(s in u)s in d||M(d,s,u[s]);else x(x.P+x.F*(Yn||p),n,u);return u},Jn=function(t){return function(n,e){var r,o,i=String(tt(n)),c=ot(e),u=i.length;return c<0||c>=u?t?"":void 0:(r=i.charCodeAt(c))<55296||r>56319||c+1===u||(o=i.charCodeAt(c+1))<56320||o>57343?t?i.charAt(c):r:t?i.slice(c,c+2):o-56320+(r-55296<<10)+65536}}(!0);Zn(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=Jn(n,e),this._i+=t.length,{value:t,done:!1})});var qn=function(t,n){return{value:n,done:!!t}};Zn(Array,"Array",function(t,n){this._t=nt(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,qn(1)):qn(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values");Vn.Arguments=Vn.Array;for(var Qn=H("toStringTag"),Xn="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),$n=0;$n<Xn.length;$n++){var te=Xn[$n],ne=a[te],ee=ne&&ne.prototype;ee&&!ee[Qn]&&I(ee,Qn,te),Vn[te]=Vn.Array}var re,oe,ie,ce=function(t,n,e,r){try{return r?n(E(e)[0],e[1]):n(e)}catch(n){var o=t.return;throw void 0!==o&&E(o.call(t)),n}},ue=H("iterator"),se=Array.prototype,ae=H("iterator"),fe=d.getIteratorMethod=function(t){if(void 0!=t)return t[ae]||t["@@iterator"]||Vn[Mn(t)]},le=n(function(t){var n={},e={},r=t.exports=function(t,r,o,i,c){var u,s,a,f,l=c?function(){return t}:fe(t),h=y(o,i,r?2:1),p=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(function(t){return void 0!==t&&(Vn.Array===t||se[ue]===t)}(l)){for(u=ct(t.length);u>p;p++)if((f=r?h(E(s=t[p])[0],s[1]):h(t[p]))===n||f===e)return f}else for(a=l.call(t);!(s=a.next()).done;)if((f=ce(a,h,s.value,r))===n||f===e)return f};r.BREAK=n,r.RETURN=e}),he=H("species"),pe=function(t,n){var e,r=E(t).constructor;return void 0===r||void 0==(e=E(r)[he])?n:v(e)},de=a.process,ve=a.setImmediate,ye=a.clearImmediate,_e=a.MessageChannel,be=a.Dispatch,me=0,Oe={},ge=function(){var t=+this;if(Oe.hasOwnProperty(t)){var n=Oe[t];delete Oe[t],n()}},we=function(t){ge.call(t.data)};ve&&ye||(ve=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return Oe[++me]=function(){!function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}t.apply(e,n)}("function"==typeof t?t:Function(t),n)},re(me),me},ye=function(t){delete Oe[t]},"process"==X(de)?re=function(t){de.nextTick(y(ge,t,1))}:be&&be.now?re=function(t){be.now(y(ge,t,1))}:_e?(ie=(oe=new _e).port2,oe.port1.onmessage=we,re=y(ie.postMessage,ie,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(re=function(t){a.postMessage(t+"","*")},a.addEventListener("message",we,!1)):re="onreadystatechange"in P("script")?function(t){gt.appendChild(P("script")).onreadystatechange=function(){gt.removeChild(this),ge.call(t)}}:function(t){setTimeout(y(ge,t,1),0)});var Se={set:ve,clear:ye},Ee=Se.set,je=a.MutationObserver||a.WebKitMutationObserver,Te=a.process,Pe=a.Promise,Ce="process"==X(Te),Re={f:function(t){return new function(t){var n,e;this.promise=new t(function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r}),this.resolve=v(n),this.reject=v(e)}(t)}},Ne=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Ae=function(t,n){if(E(t),S(n)&&n.constructor===t)return n;var e=Re.f(t);return(0,e.resolve)(n),e.promise},Le=H("species"),Ie=H("iterator"),Fe=!1;try{[7][Ie]().return=function(){Fe=!0}}catch(t){}var ke,xe,Me,De,We=Se.set,Ge=function(){var t,n,e,r=function(){var r,o;for(Ce&&(r=Te.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?e():n=void 0,r}}n=void 0,r&&r.enter()};if(Ce)e=function(){Te.nextTick(r)};else if(!je||a.navigator&&a.navigator.standalone)if(Pe&&Pe.resolve){var o=Pe.resolve();e=function(){o.then(r)}}else e=function(){Ee.call(a,r)};else{var i=!0,c=document.createTextNode("");new je(r).observe(c,{characterData:!0}),e=function(){c.data=i=!i}}return function(r){var o={fn:r,next:void 0};n&&(n.next=o),t||(t=o,e()),n=o}}(),ze="Promise",Ue=a.TypeError,Ve=a.process,He=a.Promise,Ke="process"==Mn(Ve),Ye=function(){},Be=xe=Re.f,Ze=!!function(){try{var t=He.resolve(1),n=(t.constructor={})[H("species")]=function(t){t(Ye,Ye)};return(Ke||"function"==typeof PromiseRejectionEvent)&&t.then(Ye)instanceof n}catch(t){}}(),Je=function(t){var n;return!(!S(t)||"function"!=typeof(n=t.then))&&n},qe=function(t,n){if(!t._n){t._n=!0;var e=t._c;Ge(function(){for(var r=t._v,o=1==t._s,i=0,c=function(n){var e,i,c=o?n.ok:n.fail,u=n.resolve,s=n.reject,a=n.domain;try{c?(o||(2==t._h&&$e(t),t._h=1),!0===c?e=r:(a&&a.enter(),e=c(r),a&&a.exit()),e===n.promise?s(Ue("Promise-chain cycle")):(i=Je(e))?i.call(e,u,s):u(e)):s(r)}catch(t){s(t)}};e.length>i;)c(e[i++]);t._c=[],t._n=!1,n&&!t._h&&Qe(t)})}},Qe=function(t){We.call(a,function(){var n,e,r,o=t._v,i=Xe(t);if(i&&(n=Ne(function(){Ke?Ve.emit("unhandledRejection",o,t):(e=a.onunhandledrejection)?e({promise:t,reason:o}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=Ke||Xe(t)?2:1),t._a=void 0,i&&n.e)throw n.v})},Xe=function(t){return 1!==t._h&&0===(t._a||t._c).length},$e=function(t){We.call(a,function(){var n;Ke?Ve.emit("rejectionHandled",t):(n=a.onrejectionhandled)&&n({promise:t,reason:t._v})})},tr=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),qe(n,!0))},nr=function t(n){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===n)throw Ue("Promise can't be resolved itself");(e=Je(n))?Ge(function(){var o={_w:r,_d:!1};try{e.call(n,y(t,o,1),y(tr,o,1))}catch(t){tr.call(o,t)}}):(r._v=n,r._s=1,qe(r,!1))}catch(t){tr.call({_w:r,_d:!1},t)}}};Ze||(He=function(t){!function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!")}(this,He,ze,"_h"),v(t),ke.call(this);try{t(y(nr,this,1),y(tr,this,1))}catch(t){tr.call(this,t)}},(ke=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,n,e){for(var r in n)e&&t[r]?t[r]=n[r]:I(t,r,n[r]);return t}(He.prototype,{then:function(t,n){var e=Be(pe(this,He));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=Ke?Ve.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&qe(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),Me=function(){var t=new ke;this.promise=t,this.resolve=y(nr,t,1),this.reject=y(tr,t,1)},Re.f=Be=function(t){return t===He||t===De?new Me(t):xe(t)}),x(x.G+x.W+x.F*!Ze,{Promise:He}),B(He,ze),function(t){var n="function"==typeof d[t]?d[t]:a[t];p&&n&&!n[Le]&&A.f(n,Le,{configurable:!0,get:function(){return this}})}(ze),De=d.Promise,x(x.S+x.F*!Ze,ze,{reject:function(t){var n=Be(this);return(0,n.reject)(t),n.promise}}),x(x.S+!0*x.F,ze,{resolve:function(t){return Ae(this===De?He:this,t)}}),x(x.S+x.F*!(Ze&&function(t,n){if(!n&&!Fe)return!1;var e=!1;try{var r=[7],o=r[Ie]();o.next=function(){return{done:e=!0}},r[Ie]=function(){return o},t(r)}catch(t){}return e}(function(t){He.all(t).catch(Ye)})),ze,{all:function(t){var n=this,e=Be(n),r=e.resolve,o=e.reject,i=Ne(function(){var e=[],i=0,c=1;le(t,!1,function(t){var u=i++,s=!1;e.push(void 0),c++,n.resolve(t).then(function(t){s||(s=!0,e[u]=t,--c||r(e))},o)}),--c||r(e)});return i.e&&o(i.v),e.promise},race:function(t){var n=this,e=Be(n),r=e.reject,o=Ne(function(){le(t,!1,function(t){n.resolve(t).then(e.resolve,r)})});return o.e&&r(o.v),e.promise}}),x(x.P+x.R,"Promise",{finally:function(t){var n=pe(this,d.Promise||a.Promise),e="function"==typeof t;return this.then(e?function(e){return Ae(n,t()).then(function(){return e})}:t,e?function(e){return Ae(n,t()).then(function(){throw e})}:t)}}),x(x.S,"Promise",{try:function(t){var n=Re.f(this),e=Ne(t);return(e.e?n.reject:n.resolve)(e.v),n.promise}});var er=d.Promise,rr={CREATE:"CREATE",AUTHORIZE:"AUTHORIZE",DISCOVER:"DISCOVER",SELECT_STREAMS:"SELECT_STREAMS"},or=function(t){function n(t){b(this,n);var e=w(this,(n.__proto__||Wn.getPrototypeOf(n)).call(this,"Integration with id "+t+" not found."));return e.constructor=n,e}return g(n,t),n}(Error),ir=function(t){function n(t){b(this,n);var e=w(this,(n.__proto__||Wn.getPrototypeOf(n)).call(this,'Unknown source type: "'+t+'".'));return e.constructor=n,e}return g(n,t),n}(Error),cr=function(t){function n(){b(this,n);var t=w(this,(n.__proto__||Wn.getPrototypeOf(n)).call(this,"App closed before reaching end of flow."));return t.constructor=n,t}return g(n,t),n}(Error);t.STEPS=rr,t.SourceNotFoundError=or,t.UnknownSourceTypeError=ir,t.AppClosedPrematurelyError=cr,t.addSource=function(t){return u(rr.CREATE,t)},t.authorizeSource=function(t){return u(rr.AUTHORIZE,t)},t.displayDiscoveryOutputForSource=function(t){return u(rr.DISCOVER,t)},t.selectStreamsForSource=function(t){return u(rr.SELECT_STREAMS,t)},Object.defineProperty(t,"__esModule",{value:!0})});
